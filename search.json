[{"title":"Hello World","url":"/2021/02/26/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","categories":["hexo"],"tags":["技术文档"]},{"title":"【python实战】学生成绩管理系统—文件命令行版","url":"/2021/02/26/%E3%80%90python%E5%AE%9E%E6%88%98%E3%80%91%E5%AD%A6%E7%94%9F%E6%88%90%E7%BB%A9%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%94%E6%96%87%E4%BB%B6%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%89%88/","content":"<h1 id=\"写作缘起\"><a href=\"#写作缘起\" class=\"headerlink\" title=\"写作缘起\"></a>写作缘起</h1><p>南墙学习python也有一段日子了，虽然也做过爬虫实战，总感觉少了些什么，于是乎，给自己找了个小项目做，这是一个命令行下的成绩管理系统，没有界面写起来就比较简单，专注业务逻辑开发。灵感来源于大一的c语言链表实现学生成绩管理系统，python版本相对而言简单，主要是拿来练练手，巩固下python基础语法。</p>\n<h1 id=\"上代码\"><a href=\"#上代码\" class=\"headerlink\" title=\"上代码\"></a>上代码</h1><p>目录结构<br><img src=\"https://img-blog.csdnimg.cn/20210204123042550.png\" alt=\"在这里插入图片描述\"><br>这个目录结构比较简单，就三个python文件和一个files文件夹，main.py 是主程序，student.py是学生类，utils.py是工具类，files文件夹下用来存放导出的txt文件</p>\n<p>完整代码</p>\n<p>main.py</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> StudentManagement.student <span class=\"keyword\">import</span> Student</span><br><span class=\"line\"><span class=\"keyword\">from</span> StudentManagement.utils <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 主要数据结构</span></span><br><span class=\"line\"><span class=\"comment\"># 许多学生-students列表</span></span><br><span class=\"line\"><span class=\"comment\"># 单个学生-student对象</span></span><br><span class=\"line\"><span class=\"comment\"># 类的成员 姓名string 语数英成绩scores字典 平均分string</span></span><br><span class=\"line\"><span class=\"comment\"># student1 = Student(name,&#123;&#x27;math&#x27;:98,&#x27;English&#x27;:95,&#x27;Chinese&#x27;:93&#125;,average)</span></span><br><span class=\"line\"><span class=\"comment\"># 列表-学生对象-成员变量（3个）</span></span><br><span class=\"line\"><span class=\"comment\"># 主要就是列表的增删改查操作</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将所有记录保存到文件模块</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">saveInfo</span>():</span></span><br><span class=\"line\">    path = <span class=\"string\">&#x27;./files/&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> os.path.exists(path):</span><br><span class=\"line\">        os.mkdir(path)</span><br><span class=\"line\">    file_name = path + getCurrentTime() + <span class=\"string\">&#x27;.txt&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(file_name, <span class=\"string\">&#x27;w&#x27;</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">        f.write(<span class=\"string\">&#x27;\\t姓名\\t数学\\t英语\\t语文\\t平均分\\n&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> student <span class=\"keyword\">in</span> students:</span><br><span class=\"line\">            <span class=\"comment\"># 格式化写入 其中的&gt;意思是“ 对齐到右边 ”，8是特定值的宽度</span></span><br><span class=\"line\">            f.write(<span class=\"string\">&#x27;&#123;:&gt;8&#125;&#123;:&gt;8&#125;&#123;:&gt;8&#125;&#123;:&gt;8&#125;&#123;:&gt;8&#125;\\n&#x27;</span>.<span class=\"built_in\">format</span>(student.name, <span class=\"built_in\">str</span>(student.scores[<span class=\"string\">&#x27;math&#x27;</span>]),</span><br><span class=\"line\">                                                         <span class=\"built_in\">str</span>(student.scores[<span class=\"string\">&#x27;English&#x27;</span>]), <span class=\"built_in\">str</span>(student.scores[<span class=\"string\">&#x27;Chinese&#x27;</span>]),</span><br><span class=\"line\">                                                         <span class=\"built_in\">str</span>(student.average)))</span><br><span class=\"line\">        f.close()</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">&#x27;成绩已保存至文件夹&#x27;</span> + file_name)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 从文件中读入所有记录</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">readInfo</span>():</span></span><br><span class=\"line\">    path = <span class=\"built_in\">input</span>(<span class=\"string\">&#x27;请输入导入文件名，例如：d:\\\\xds\\score.txt：&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> os.path.exists(path):</span><br><span class=\"line\">        print(<span class=\"string\">&#x27;文件不存在，导入失败&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(path,<span class=\"string\">&#x27;r&#x27;</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">        students.clear()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> line <span class=\"keyword\">in</span> file.readlines():</span><br><span class=\"line\">            line = line.strip(<span class=\"string\">&#x27;\\n&#x27;</span>)</span><br><span class=\"line\">            <span class=\"comment\"># print(line)</span></span><br><span class=\"line\">            <span class=\"comment\"># print(type(line))</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"string\">&#x27;姓名&#x27;</span> <span class=\"keyword\">in</span> line:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            split = line.split()</span><br><span class=\"line\">            student = Student(split[<span class=\"number\">0</span>],&#123;<span class=\"string\">&#x27;math&#x27;</span>:split[<span class=\"number\">1</span>],<span class=\"string\">&#x27;English&#x27;</span>:split[<span class=\"number\">2</span>],<span class=\"string\">&#x27;Chinese&#x27;</span>:split[<span class=\"number\">3</span>]&#125;,split[<span class=\"number\">4</span>])</span><br><span class=\"line\">            students.append(student)</span><br><span class=\"line\">        print(<span class=\"string\">&#x27;已经成功从文件&#x27;</span>+path.split(<span class=\"string\">&#x27;.txt&#x27;</span>)[<span class=\"number\">0</span>].rsplit(<span class=\"string\">&#x27;/&#x27;</span>,<span class=\"number\">1</span>)[-<span class=\"number\">1</span>]+<span class=\"string\">&#x27;导入数据!!!&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 输入记录模块</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inputRecord</span>():</span></span><br><span class=\"line\">    isKeep = <span class=\"string\">&#x27;y&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (isKeep == <span class=\"string\">&#x27;y&#x27;</span>):</span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            print(<span class=\"string\">&#x27;\\n请按如下提示输入相关信息.\\n&#x27;</span>)</span><br><span class=\"line\">            name = <span class=\"built_in\">input</span>(<span class=\"string\">&#x27;请输入学生姓名:&#x27;</span>)</span><br><span class=\"line\">            <span class=\"comment\"># 保持主键name唯一</span></span><br><span class=\"line\">            isNameExist = isNameExists(name, students)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> isNameExist:</span><br><span class=\"line\">                print(<span class=\"string\">&#x27;该学生已存在，请重新输入\\n&#x27;</span>)</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            print(<span class=\"string\">&#x27;请输入成绩&#x27;</span>)</span><br><span class=\"line\">            math = <span class=\"built_in\">float</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;数学：&#x27;</span>))</span><br><span class=\"line\">            English = <span class=\"built_in\">float</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;英语：&#x27;</span>))</span><br><span class=\"line\">            Chinese = <span class=\"built_in\">float</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;语文：&#x27;</span>))</span><br><span class=\"line\">            <span class=\"comment\"># 平均分保留一位小数</span></span><br><span class=\"line\">            average = <span class=\"built_in\">round</span>((math + English + Chinese) / <span class=\"number\">3</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">            student = Student(name, &#123;<span class=\"string\">&#x27;math&#x27;</span>: math, <span class=\"string\">&#x27;English&#x27;</span>: English, <span class=\"string\">&#x27;Chinese&#x27;</span>: Chinese&#125;, average)</span><br><span class=\"line\">            <span class=\"comment\"># 分数超出范围</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> outRange(math) <span class=\"keyword\">or</span> outRange(English) <span class=\"keyword\">or</span> outRange(Chinese):</span><br><span class=\"line\">                print(<span class=\"string\">&#x27;存在非法数据，请重新输入&#x27;</span>)</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"comment\"># 新增</span></span><br><span class=\"line\">            students.append(student)</span><br><span class=\"line\">            print(<span class=\"string\">&#x27;新增一条记录!\\n&#x27;</span>)</span><br><span class=\"line\">            isKeep = <span class=\"built_in\">input</span>(<span class=\"string\">&#x27;是否继续添加记录（y/n）：&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">except</span> ValueError <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">            <span class=\"comment\"># 成绩必须为浮点数</span></span><br><span class=\"line\">            print(<span class=\"string\">&#x27;成绩类型错误，请重新输入!\\n&#x27;</span>)</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">    <span class=\"comment\"># for student in students:</span></span><br><span class=\"line\">    <span class=\"comment\">#     student.print()</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示所有记录模块</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">printAllRecords</span>():</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(students) == <span class=\"number\">0</span>:</span><br><span class=\"line\">        print(<span class=\"string\">&#x27;很遗憾，空表中没有任何记录可供显示！&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    print(<span class=\"string\">&#x27;\\n******************显示所有记录*******************\\n&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\"># 一个制表符t占4格</span></span><br><span class=\"line\">    print(<span class=\"string\">&#x27;\\t姓名\\t数学\\t英语\\t语文\\t平均分\\n&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> student <span class=\"keyword\">in</span> students:</span><br><span class=\"line\">        student.print()</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;************************************************&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 对所有记录进行排序模块</span></span><br><span class=\"line\"><span class=\"comment\"># 采用冒泡排序算法</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortAllRecords</span>():</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(students) == <span class=\"number\">0</span>:</span><br><span class=\"line\">        print(<span class=\"string\">&#x27;很遗憾，空表中没有任何记录可供排序！&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    lenth = <span class=\"built_in\">len</span>(students)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(lenth):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, lenth - i - <span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"built_in\">float</span>(students[j].average) &lt; <span class=\"built_in\">float</span>(students[j + <span class=\"number\">1</span>].average):</span><br><span class=\"line\">                students[j], students[j + <span class=\"number\">1</span>] = students[j + <span class=\"number\">1</span>], students[j]</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;已按平均分由高到低排序!\\n&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 按姓名查找记录并显示模块</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">queryByName</span>():</span></span><br><span class=\"line\">    name = <span class=\"built_in\">input</span>(<span class=\"string\">&#x27;请输入要查询的学生姓名：&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> student <span class=\"keyword\">in</span> students:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> name <span class=\"keyword\">in</span> student.name:</span><br><span class=\"line\">            print(<span class=\"string\">&#x27;\\n*********************Found*********************\\n&#x27;</span>)</span><br><span class=\"line\">            print(<span class=\"string\">&#x27;\\t姓名\\t数学\\t英语\\t语文\\t平均分\\n&#x27;</span>)</span><br><span class=\"line\">            student.print()</span><br><span class=\"line\">            print(<span class=\"string\">&#x27;***********************************************\\n&#x27;</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">    print(<span class=\"string\">&#x27;您要查找的是&#x27;</span> + name + <span class=\"string\">&#x27;，很遗憾，查无此人！&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 插入记录模块</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insertRecord</span>():</span></span><br><span class=\"line\">    length = <span class=\"built_in\">len</span>(students)</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;当前列表长度为&#x27;</span> + <span class=\"built_in\">str</span>(length))</span><br><span class=\"line\">    index = <span class=\"built_in\">int</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;请输入你要插入的位置(0-len)：&#x27;</span>))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> index &gt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> index &lt;= length:</span><br><span class=\"line\">        <span class=\"comment\"># 插入操作</span></span><br><span class=\"line\">        print(<span class=\"string\">&#x27;\\n请按如下提示输入相关信息.\\n&#x27;</span>)</span><br><span class=\"line\">        name = <span class=\"built_in\">input</span>(<span class=\"string\">&#x27;请输入学生姓名:&#x27;</span>)</span><br><span class=\"line\">        <span class=\"comment\"># 保持主键name唯一</span></span><br><span class=\"line\">        isNameExist = isNameExists(name, students)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> isNameExist:</span><br><span class=\"line\">            print(<span class=\"string\">&#x27;该学生已存在，插入操作失败\\n&#x27;</span>)</span><br><span class=\"line\">        print(<span class=\"string\">&#x27;请输入成绩&#x27;</span>)</span><br><span class=\"line\">        math = <span class=\"built_in\">float</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;数学：&#x27;</span>))</span><br><span class=\"line\">        English = <span class=\"built_in\">float</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;英语：&#x27;</span>))</span><br><span class=\"line\">        Chinese = <span class=\"built_in\">float</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;语文：&#x27;</span>))</span><br><span class=\"line\">        <span class=\"comment\"># 平均分保留一位小数</span></span><br><span class=\"line\">        average = <span class=\"built_in\">round</span>((math + English + Chinese) / <span class=\"number\">3</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">        student = Student(name, &#123;<span class=\"string\">&#x27;math&#x27;</span>: math, <span class=\"string\">&#x27;English&#x27;</span>: English, <span class=\"string\">&#x27;Chinese&#x27;</span>: Chinese&#125;, average)</span><br><span class=\"line\">        <span class=\"comment\"># 分数超出范围</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> outRange(math) <span class=\"keyword\">or</span> outRange(English) <span class=\"keyword\">or</span> outRange(Chinese):</span><br><span class=\"line\">            print(<span class=\"string\">&#x27;存在非法数据，插入操作失败&#x27;</span>)</span><br><span class=\"line\">        <span class=\"comment\"># 列表插入</span></span><br><span class=\"line\">        students.insert(index, student)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        print(<span class=\"string\">&#x27;非法输入，请重新输入\\n&#x27;</span>)</span><br><span class=\"line\">        insertRecord()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除记录</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteRecordById</span>():</span></span><br><span class=\"line\">    name = <span class=\"built_in\">input</span>(<span class=\"string\">&#x27;请输入你要删除的学生姓名：&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> student <span class=\"keyword\">in</span> students:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> name <span class=\"keyword\">in</span> student.name:</span><br><span class=\"line\">            students.remove(student)</span><br><span class=\"line\">            print(<span class=\"string\">&#x27;删除成功！&#x27;</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">    print(<span class=\"string\">&#x27;您要删除的是&#x27;</span> + name + <span class=\"string\">&#x27;，很遗憾，查无此人！&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 菜单显示模块</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">menu</span>():</span></span><br><span class=\"line\">    print(<span class=\"string\">&quot;\\n         ***************主菜单**************\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             1. 输入记录\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             2. 显示所有记录\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             3. 对所有记录进行排序\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             4. 按姓名查找记录并显示\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             5. 插入记录\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             6. 删除记录\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             7. 将所有记录保存到文件\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             8. 从文件中读入所有记录\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;             9. 退出\\n&quot;</span>)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;         ***********************************\\n\\n&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    students = []</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;               欢迎来到学生成绩管理系统&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        menu()</span><br><span class=\"line\">        choice = <span class=\"built_in\">int</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;         请选择操作(1-9):&#x27;</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> choice == <span class=\"number\">1</span>:</span><br><span class=\"line\">            inputRecord()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">2</span>:</span><br><span class=\"line\">            printAllRecords()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">3</span>:</span><br><span class=\"line\">            sortAllRecords()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">4</span>:</span><br><span class=\"line\">            queryByName()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">5</span>:</span><br><span class=\"line\">            insertRecord()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">6</span>:</span><br><span class=\"line\">            deleteRecordById()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">7</span>:</span><br><span class=\"line\">            saveInfo()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">8</span>:</span><br><span class=\"line\">            readInfo()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">9</span>:</span><br><span class=\"line\">            exit()</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>student.py</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Student</span>(<span class=\"params\"><span class=\"built_in\">object</span></span>):</span></span><br><span class=\"line\">    <span class=\"comment\"># name String</span></span><br><span class=\"line\">    <span class=\"comment\"># score = [&#x27;math&#x27;:0,&#x27;English&#x27;:0,&#x27;Chinese&#x27;:0]</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 初始化函数</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self, name, scores, average</span>):</span></span><br><span class=\"line\">        self.name = name</span><br><span class=\"line\">        self.scores = scores</span><br><span class=\"line\">        self.average = average</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 输出函数</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">print</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        print(<span class=\"string\">&#x27;&#123;:&gt;8&#125;&#123;:&gt;8&#125;&#123;:&gt;8&#125;&#123;:&gt;8&#125;&#123;:&gt;8&#125;\\n&#x27;</span>.<span class=\"built_in\">format</span>(self.name, <span class=\"built_in\">str</span>(self.scores[<span class=\"string\">&#x27;math&#x27;</span>]), <span class=\"built_in\">str</span>(self.scores[<span class=\"string\">&#x27;English&#x27;</span>]), <span class=\"built_in\">str</span>(self.scores[<span class=\"string\">&#x27;Chinese&#x27;</span>]),<span class=\"built_in\">str</span>(self.average)))</span><br></pre></td></tr></table></figure>\n\n<p>utils.py</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 按格式获取当前时间（精确到秒）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getCurrentTime</span>():</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span>(time.strftime(<span class=\"string\">&#x27;%Y年%m月%d日%H时%M分%S秒&#x27;</span>,time.localtime(time.time())))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 检测分数是否超出范围</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">outRange</span>(<span class=\"params\">number</span>):</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(number&gt;<span class=\"number\">100.0</span> <span class=\"keyword\">or</span> number&lt;<span class=\"number\">0.0</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查询name是否已经存在</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isNameExists</span>(<span class=\"params\">name,students</span>):</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> student <span class=\"keyword\">in</span> students:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> student.name <span class=\"keyword\">in</span> name:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>./files/1.txt<br><img src=\"https://img-blog.csdnimg.cn/202102041235434.png\" alt=\"在这里插入图片描述\"></p>\n<h1 id=\"思路分析\"><a href=\"#思路分析\" class=\"headerlink\" title=\"思路分析\"></a>思路分析</h1><p>主要就是实现几个模块吧,各个模块之间相对独立，具体的模块代码在上面，就不一一赘述了</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    students = []</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;               欢迎来到学生成绩管理系统&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">    \t<span class=\"comment\"># 显示菜单\t</span></span><br><span class=\"line\">        menu()</span><br><span class=\"line\">        choice = <span class=\"built_in\">int</span>(<span class=\"built_in\">input</span>(<span class=\"string\">&#x27;         请选择操作(1-9):&#x27;</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> choice == <span class=\"number\">1</span>:</span><br><span class=\"line\">        \t<span class=\"comment\"># 输入记录模块</span></span><br><span class=\"line\">            inputRecord()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">2</span>:</span><br><span class=\"line\">        \t<span class=\"comment\"># 显示所有记录模块</span></span><br><span class=\"line\">            printAllRecords()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">3</span>:</span><br><span class=\"line\">         \t<span class=\"comment\"># 对所有记录进行排序模块 </span></span><br><span class=\"line\">            sortAllRecords()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">4</span>:</span><br><span class=\"line\">        \t<span class=\"comment\"># 按姓名查找记录并显示模块</span></span><br><span class=\"line\">            queryByName()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">5</span>:</span><br><span class=\"line\">        \t<span class=\"comment\"># 插入记录模块</span></span><br><span class=\"line\">            insertRecord()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">6</span>:</span><br><span class=\"line\">        \t<span class=\"comment\"># 删除记录模块</span></span><br><span class=\"line\">            deleteRecordById()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">7</span>:</span><br><span class=\"line\">        \t<span class=\"comment\"># 将所有记录保存到文件模块</span></span><br><span class=\"line\">            saveInfo()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">8</span>:</span><br><span class=\"line\">        \t<span class=\"comment\"># 从文件中读入所有记录模块</span></span><br><span class=\"line\">            readInfo()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> choice == <span class=\"number\">9</span>:</span><br><span class=\"line\">        \t<span class=\"comment\"># 退出系统模块</span></span><br><span class=\"line\">            exit()</span><br></pre></td></tr></table></figure>\n\n<p>主要数据结构-学生类</p>\n<p>许多学生-students列表存储<br>单个学生-student对象存储<br>类的成员 姓名string 语数英成绩scores字典 平均分string<br>类的方法 print()<br>例如  <code>student = Student(&#39;小明&#39;,&#123;&#39;math&#39;:98,&#39;English&#39;:95,&#39;Chinese&#39;:92&#125;,95)</code></p>\n<p>说到python版的相对简单，我深有体会。<br>就拿插入模块来说，python一句 <code>students.insert(index, student)</code>搞定，而用c的话，链表需要查找到指定位置，然后插入。而链表最麻烦的就是查找，插入则相对简单。</p>\n<h1 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h1><p>主界面<br><img src=\"https://img-blog.csdnimg.cn/2021020412421387.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br>显示所有记录<br><img src=\"https://img-blog.csdnimg.cn/20210204124230134.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br>导入数据<br><img src=\"https://img-blog.csdnimg.cn/20210204124824623.png\" alt=\"在这里插入图片描述\"><br>添加记录<br><img src=\"https://img-blog.csdnimg.cn/20210204125003946.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br>按平均分由高到低排序<br><img src=\"https://img-blog.csdnimg.cn/20210204125445900.png\" alt=\"在这里插入图片描述\"><br><img src=\"https://img-blog.csdnimg.cn/20210204125503338.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br>插入记录<br><img src=\"https://img-blog.csdnimg.cn/20210204125619107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210204125603636.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br>删除记录<br><img src=\"https://img-blog.csdnimg.cn/20210204125643560.png\" alt=\"在这里插入图片描述\"><br><img src=\"https://img-blog.csdnimg.cn/20210204125656976.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br>保存数据到文件<br><img src=\"https://img-blog.csdnimg.cn/20210204125719539.png\" alt=\"在这里插入图片描述\"><br>文件中<br><img src=\"https://img-blog.csdnimg.cn/20210204125739204.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br>退出系统<br><img src=\"https://img-blog.csdnimg.cn/20210204125810816.png\" alt=\"在这里插入图片描述\"></p>\n<h1 id=\"项目总结\"><a href=\"#项目总结\" class=\"headerlink\" title=\"项目总结\"></a>项目总结</h1><p>这个项目呢，虽然比较小，但是知识点都比较全。python的基本数据结构以及各种输入输出都有，俗话说“麻雀虽小，五脏俱全”，所以说比较适合python入门。写这个项目大概花了我一天时间，中间出过各种各样的bug，但好在基本都已解决。<br>我也会在gitee上传这个项目，嫌复制粘贴麻烦的可以直接克隆仓库或者下载压缩包。这个项目的特点就是命令行界面+文件，考察了许多基本的文件操作，命令行无图形界面意味着你可以自己写一个输入输出，发挥自己的想象吧。</p>\n<p>附上gitee链接<a href=\"https://gitee.com/bugui_he0415/student-scores-management\">Python学生成绩管理系统文件命令行版</a></p>\n","categories":["Python"],"tags":["python"]},{"title":"【可视化爬虫实战】使用python+selenium爬取学校教务网学生成绩","url":"/2021/02/26/%E3%80%90%E5%8F%AF%E8%A7%86%E5%8C%96%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E3%80%91%E4%BD%BF%E7%94%A8python+selenium%E7%88%AC%E5%8F%96%E5%AD%A6%E6%A0%A1%E6%95%99%E5%8A%A1%E7%BD%91%E5%AD%A6%E7%94%9F%E6%88%90%E7%BB%A9/","content":"<h1 id=\"写作缘起\"><a href=\"#写作缘起\" class=\"headerlink\" title=\"写作缘起\"></a>写作缘起</h1><p>南墙最近学习爬虫了解到了一个好玩的玩意儿—selenium自动化测试工具，Selenium是一个用于Web应用程序测试的工具，它直接运行在浏览器中，就像真正的用户在操作一样。这样就可以跳过js、加密等反扒手段。来了个新的东西必须实战一下，所以南墙就想着去实现一个登录学校教务网的小程序。</p>\n<h1 id=\"上代码\"><a href=\"#上代码\" class=\"headerlink\" title=\"上代码\"></a>上代码</h1><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"><span class=\"keyword\">from</span> selenium <span class=\"keyword\">import</span> webdriver<span class=\"comment\">#驱动浏览器</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> selenium.webdriver.support.wait <span class=\"keyword\">import</span> WebDriverWait <span class=\"comment\">#等待页面加载完毕 寻找某些元素</span></span><br><span class=\"line\">browser = webdriver.Chrome()</span><br><span class=\"line\"><span class=\"comment\"># 最大化窗口</span></span><br><span class=\"line\">browser.maximize_window()</span><br><span class=\"line\">wait = WebDriverWait(browser, <span class=\"number\">10</span>)  <span class=\"comment\"># 设置selenium等待浏览器加载完毕的最大等待时间</span></span><br><span class=\"line\">url = <span class=\"string\">&#x27;http://kdjw.hnust.edu.cn/&#x27;</span></span><br><span class=\"line\">browser.get(url)</span><br><span class=\"line\"><span class=\"comment\"># 账号输入框</span></span><br><span class=\"line\">username = browser.find_element_by_xpath(<span class=\"string\">&#x27;//*[@id=&quot;userAccount&quot;]&#x27;</span>)</span><br><span class=\"line\">username.send_keys(<span class=\"string\">&#x27;填写自己的账号&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\"># 密码输入框</span></span><br><span class=\"line\">password = browser.find_element_by_xpath(<span class=\"string\">&#x27;//*[@id=&quot;userPassword&quot;]&#x27;</span>)</span><br><span class=\"line\">password.send_keys(<span class=\"string\">&#x27;填写自己的密码&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\"># 登录按钮</span></span><br><span class=\"line\">login_btn = browser.find_element_by_id(<span class=\"string\">&#x27;btn-login&#x27;</span>)</span><br><span class=\"line\">login_btn.click()</span><br><span class=\"line\">print(<span class=\"string\">&#x27;开始查询&#x27;</span>)</span><br><span class=\"line\">time.sleep(<span class=\"number\">5</span>)</span><br><span class=\"line\"><span class=\"comment\"># 学籍成绩</span></span><br><span class=\"line\">scores = browser.find_element_by_xpath(<span class=\"string\">&#x27;//*[@id=&quot;accordion&quot;]/li[3]/div&#x27;</span>)</span><br><span class=\"line\">scores.click()</span><br><span class=\"line\">time.sleep(<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"comment\"># 我的成绩</span></span><br><span class=\"line\">myscores = browser.find_element_by_xpath(<span class=\"string\">&#x27;//*[@id=&quot;accordion&quot;]/li[3]/ul/li[3]/div&#x27;</span>)</span><br><span class=\"line\">myscores.click()</span><br><span class=\"line\">time.sleep(<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"comment\"># 课程成绩查询</span></span><br><span class=\"line\">course_scores = browser.find_element_by_xpath(<span class=\"string\">&#x27;//*[@id=&quot;NEW_XSD_XJCJ_WDCJ_KCCJCX&quot;]&#x27;</span>)</span><br><span class=\"line\">course_scores.click()</span><br><span class=\"line\">time.sleep(<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"comment\"># 收起左侧的箭头(&lt;)</span></span><br><span class=\"line\">left_arrow = browser.find_element_by_xpath(<span class=\"string\">&#x27;/html/body/div/div[1]/div/div/label/i&#x27;</span>).click()</span><br><span class=\"line\">time.sleep(<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"comment\"># 屏幕截图</span></span><br><span class=\"line\">path = <span class=\"string\">&#x27;./测试.png&#x27;</span></span><br><span class=\"line\">browser.save_screenshot(path)</span><br><span class=\"line\">print(<span class=\"string\">&#x27;截图已保存至&#x27;</span>,path)</span><br><span class=\"line\">browser.quit()</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"思路分析\"><a href=\"#思路分析\" class=\"headerlink\" title=\"思路分析\"></a>思路分析</h1><h2 id=\"下载selenium库\"><a href=\"#下载selenium库\" class=\"headerlink\" title=\"下载selenium库\"></a>下载selenium库</h2><p>使用pip install selenium命令下载selenium库，可以看到我这里已经下载好了<br><img src=\"https://img-blog.csdnimg.cn/20210210120804221.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"安装浏览器驱动\"><a href=\"#安装浏览器驱动\" class=\"headerlink\" title=\"安装浏览器驱动\"></a>安装浏览器驱动</h2><p>selenium要控制浏览器还需要下载对应浏览器的driver驱动，下面以chrome浏览器为例。参照下文</p>\n<p><a href=\"https://blog.csdn.net/qq_40604853/article/details/81388078?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control\">Window 下配置ChromeDriver(简单4步完成）</a></p>\n<h3 id=\"温馨提示\"><a href=\"#温馨提示\" class=\"headerlink\" title=\"温馨提示\"></a>温馨提示</h3><p><strong>我的driver.exe是放在python-script目录下的，跟上文不太一样<br>所以你们可能要配置browser = webdriver.Chrome()参数中的路径，这个也说不定。<br>还有就是一定要下载对对应驱动版本。</strong></p>\n<p>在代码运行阶段，如果看到浏览器显示如下就表示你配置成功了<br><img src=\"https://img-blog.csdnimg.cn/20210210130902174.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"使用selenium库\"><a href=\"#使用selenium库\" class=\"headerlink\" title=\"使用selenium库\"></a>使用selenium库</h2><p>这里可能要介绍一下selenium的一些基本使用方法</p>\n<h3 id=\"访问网页\"><a href=\"#访问网页\" class=\"headerlink\" title=\"访问网页\"></a>访问网页</h3><p>get方式</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">browser = webdriver.Chrome()</span><br><span class=\"line\">url = <span class=\"string\">&#x27;http://kdjw.hnust.edu.cn/&#x27;</span></span><br><span class=\"line\">browser.get(url)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"获取标签（这里使用xpath）\"><a href=\"#获取标签（这里使用xpath）\" class=\"headerlink\" title=\"获取标签（这里使用xpath）\"></a>获取标签（这里使用xpath）</h3><p>也可以使用id、class、selector等等，不过xpath看起来复杂，其实就是一条路径，格式类似于windows文件绝对路径。而且操作容易，不想自己写的小伙伴可以选中标签右键 copy -&gt; copy xpath<br><code>myscores = browser.find_element_by_xpath(&#39;//*[@id=&quot;accordion&quot;]/li[3]/ul/li[3]/div&#39;)</code></p>\n<h3 id=\"模拟浏览器行为\"><a href=\"#模拟浏览器行为\" class=\"headerlink\" title=\"模拟浏览器行为\"></a>模拟浏览器行为</h3><p>获取标签之后我们就需要对标签进行单击、拖拽、双击等等浏览器模拟行为，本文用到了click(左键单击)、send_keys(设置内容)、save_screenshot(截图)这几个。</p>\n<h4 id=\"具体使用如下：\"><a href=\"#具体使用如下：\" class=\"headerlink\" title=\"具体使用如下：\"></a>具体使用如下：</h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 账号输入框</span></span><br><span class=\"line\">username = browser.find_element_by_xpath(<span class=\"string\">&#x27;//*[@id=&quot;userAccount&quot;]&#x27;</span>)</span><br><span class=\"line\">username.send_keys(<span class=\"string\">&#x27;填写自己的账号&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\"># 密码输入框</span></span><br><span class=\"line\">password = browser.find_element_by_xpath(<span class=\"string\">&#x27;//*[@id=&quot;userPassword&quot;]&#x27;</span>)</span><br><span class=\"line\">password.send_keys(<span class=\"string\">&#x27;填写自己的密码&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\"># 登录按钮</span></span><br><span class=\"line\">login_btn = browser.find_element_by_id(<span class=\"string\">&#x27;btn-login&#x27;</span>)</span><br><span class=\"line\">login_btn.click()</span><br></pre></td></tr></table></figure>\n<h3 id=\"保存截图\"><a href=\"#保存截图\" class=\"headerlink\" title=\"保存截图\"></a>保存截图</h3><p>等待查询页面结果显示出来之后就可以保存截图了<br>使用<code>browser.save_screenshot(path)</code>方法</p>\n<h1 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h1><p>终端运行结果，可以看到截图保存路径<br><img src=\"https://img-blog.csdnimg.cn/20210210122445468.png\" alt=\"在这里插入图片描述\"><br>打开图片<br><img src=\"https://img-blog.csdnimg.cn/20210210124456754.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"></p>\n<h1 id=\"写在最后\"><a href=\"#写在最后\" class=\"headerlink\" title=\"写在最后\"></a>写在最后</h1><h2 id=\"对selenium的总结\"><a href=\"#对selenium的总结\" class=\"headerlink\" title=\"对selenium的总结\"></a>对selenium的总结</h2><p>selenium可以让我们轻易越过一些比较难破解的反爬虫措施，比如js、加密等等，是一种很好的可视化工具，可以用来开发可视化爬虫。<br>当然没有完美无缺的东西，selenium也存在一些缺点，比如爬取速度慢，ajax动态加载、css动画渲染需要一定的时间，这个时间长达几秒，对于一些不要求高性能的爬虫这无关紧要。但是对于一个要爬去几万条数据的爬虫而言，这显然不合适。</p>\n<h3 id=\"对于第二点\"><a href=\"#对于第二点\" class=\"headerlink\" title=\"对于第二点\"></a>对于第二点</h3><p>对于第二点，由于加载速度和代码执行速度不在一个量级上，为了避免页面刷新太慢以至于代码执行时找不到标签，建议加上time.sleep(2)休眠函数。不加可能出现以下报错<code>element not interactable</code>（元素不可交互）<br><img src=\"https://img-blog.csdnimg.cn/20210210133412464.png\" alt=\"在这里插入图片描述\"><br><strong>还有一种复杂点的，但是时间利用方面可能更好。</strong><br>代码中元素进行获取的时候查看是否已经加载出来，等待元素加载可以使用显式等待<code>element=WebDriverWait(browser,20,0.5).until(EC.presence_of_element_located((By.XPATH,&#39;//*[@id=&quot;app&quot;]/div&#39;)))</code></p>\n<h2 id=\"项目总结\"><a href=\"#项目总结\" class=\"headerlink\" title=\"项目总结\"></a>项目总结</h2><p>本项目爬取教务网学生成绩就是属于前者的一种情况，只需要爬取一个人的数据量当然小，可以作为一个工具来选课查成绩等等，简单快捷，最重要的是不用再去输入繁琐的账号密码操作。</p>\n","categories":["爬虫"],"tags":["python","selenium","爬虫"]},{"title":"测试2","url":"/2021/02/27/%E6%B5%8B%E8%AF%95%E4%BA%8C/","content":"<h3 id=\"这是一篇测试文章，无内容\"><a href=\"#这是一篇测试文章，无内容\" class=\"headerlink\" title=\"这是一篇测试文章，无内容\"></a>这是一篇测试文章，无内容</h3>","categories":["测试"],"tags":["test"]},{"title":"测试","url":"/2021/02/26/%E6%B5%8B%E8%AF%95/","content":"<h1 id=\"哈哈\"><a href=\"#哈哈\" class=\"headerlink\" title=\"哈哈\"></a>哈哈</h1><h3 id=\"嘻嘻\"><a href=\"#嘻嘻\" class=\"headerlink\" title=\"嘻嘻\"></a>嘻嘻</h3><h2 id=\"主题\"><a href=\"#主题\" class=\"headerlink\" title=\"主题\"></a>主题</h2><p>这是一篇测试博客</p>\n<h2 id=\"内容\"><a href=\"#内容\" class=\"headerlink\" title=\"内容\"></a>内容</h2><h2 id=\"结尾\"><a href=\"#结尾\" class=\"headerlink\" title=\"结尾\"></a>结尾</h2>","categories":["测试"],"tags":["test"]},{"title":"湖南科技大学Android课程设计之个人理财小助手APP","url":"/2021/02/26/%E6%B9%96%E5%8D%97%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6Android%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1%E4%B9%8B%E4%B8%AA%E4%BA%BA%E7%90%86%E8%B4%A2%E5%B0%8F%E5%8A%A9%E6%89%8BAPP/","content":"<h1 id=\"项目介绍\"><a href=\"#项目介绍\" class=\"headerlink\" title=\"项目介绍\"></a>项目介绍</h1><p>基于android的理财小助手app，开发采用了增量式软件开发模型，采用轻量级数据库SQLite存储。主要应用了listView、button、editText、textView、spinner、dialog、CalendarView、menu等Android原生控件，以及自定义View控件ShanView(扇形图)、CircleProgressBar(环形进度条);采用了分层式类似MVC的结构，分为Activity(View)、JavaBean(Model)、Service（Control）,另外有Util包（工具类,包含字符串处理类、时间格式转换类、数据库操作类等）。以达到在模块层次上减小耦合、提高内聚的设计目标。</p>\n<h1 id=\"目录结构\"><a href=\"#目录结构\" class=\"headerlink\" title=\"目录结构\"></a>目录结构</h1><p><img src=\"https://img-blog.csdnimg.cn/20210226150635101.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\"><br>上图是src下的java代码，编写的类比较多，有三十多个，大部分是一个页面对应一个java类。<br><img src=\"https://img-blog.csdnimg.cn/20210226152015177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\"><br>上图是src下的布局文件，分为登录注册页、主菜单页、新增支出页、新增收入页、我的支出/收入展示页、数据管理页、系统设置页、收支便签展示页等等，角色分为用户和管理员（内置，用于管理多个普通账户）</p>\n<h1 id=\"总体设计\"><a href=\"#总体设计\" class=\"headerlink\" title=\"总体设计\"></a>总体设计</h1><p><img src=\"https://img-blog.csdnimg.cn/20210226151313405.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\"></p>\n<h1 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h1><p>下面是部分页面的具体效果。</p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226160531490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"登录注册页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226163121464.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"管理员后台页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226155408953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"主菜单页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226160752159.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"我的支出页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226160841332.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"数据管理页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226160923720.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"季节收入页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226161023668.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"新增支出页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226161045735.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"数据管理页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20210226161137679.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"系统设置页\"></p>\n<p><img src=\"https://img-blog.csdnimg.cn/2021022616131793.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"便签管理页\"></p>\n<h1 id=\"源码地址\"><a href=\"#源码地址\" class=\"headerlink\" title=\"源码地址\"></a>源码地址</h1><p><a href=\"https://gitee.com/hebugui/financial-assistant-app2\">gitee仓库地址，开源不易，欢迎star</a><br><img src=\"https://img-blog.csdnimg.cn/20210226150321685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzgyNzM3Ng==,size_16,color_FFFFFF,t_70\" alt=\"apk文件\"><br>上图是软件的apk包，可以下载到手机上安装体验。<br>注：1.初始会创建一个管理员账号，用户名：admin，密码：admin<br>2.用户需注册才能使用</p>\n<h1 id=\"项目总结\"><a href=\"#项目总结\" class=\"headerlink\" title=\"项目总结\"></a>项目总结</h1><p>这个项目收获挺多的，独立完成一个小软件的开发。趁着大三寒假空闲之余就整理了一下，适合安卓新手入门。</p>\n","categories":["Android"],"tags":["Android","课程设计"]}]